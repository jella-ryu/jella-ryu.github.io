---
layout: post
title: "How to (properly) report A/B testing results"
category: Test
tags: [A/B Test]
comments: true
published: true
---

> 📚 A/B 테스트 결과를 잘 전달하는 방법은?

A/B 테스트 결과를 잘 해석하고, 팀 구성원들에게 설득력있고 쉽게 전달하는 방법에 대해 궁금했는데 마침 이 [아티클](https://medium.com/data-science-collective/statistically-speaking-how-to-properly-report-a-b-testing-results-b6320fa32b0b)
을 발견했다. 결과 해석시 흔히 저지르는 실수를 점검하고, 제대로 결과를 확인하기 위한 방법을 알아보자.

## 1. 과도한 확신(Overstating Certainty)
예를 들어, 새롭게 출시된 앱 버전이 가입자 수를 늘리는지 알고 싶다고 해보자. 그런데 모든 사용자를 대상으로 실험을 할 수는 없기 때문에, 일부 사용자에게 새 버전을 노출하고 그들의 반응을 본다(실험). 즉, 이건 샘플링이며, 이 샘플이 전체 사용자(모집단)를 완벽히 대표하지 않는다.

☑️ 따라서 분석 결과를 다음과 같이 공유하는 실수를 정정해야한다.
```
“이 기능은 매출을 10% 증가시킵니다.”
“새로운 디자인에서 전환율이 5% 올랐습니다.”
```

☑️ 대신, 샘플의 결과임을 분명히 표현해야한다. (모집단에 대한 주장에 불확실성이 있음을 표현)
```
✅ “우리 실험군에서는 전환율이 약 5% 향상되었습니다.”
✅ “A/B 테스트 샘플에서는 이 기능이 매출을 10% 증가시켰습니다.”
✅ “신뢰수준 95%에서 2~8% 증가할 가능성이 있습니다.”
```
## 2. 테스트 설정과 결과를 혼동하는 것
☑️ 예를 들어, 가설 검정에서 알파(α) 매개변수는 실제로 효과가 존재하지 않는데도 효과가 존재한다고 **잘못** 결론 내릴 확률(1종 오류)을 나타낸다. 
- 만약 알파 값이 5%로 설정되어 있고 귀무가설이 기각된 경우, 결론이 옳다고 확신할 수 없다. 그러나 잘못된 결론을 내릴 확률을 5%로 통제되고 제한된다는 것을 알고 있다.
- 이에 따라 통계학자들은 **결론이 옳다는 확신의 정도**를 반영하는 신뢰 수준을 1-α로 정의한다.

☑️ 알파 및 신뢰 수준과 달리, 가설 검정에는 상승도(Lift) 또는 p-value와 같이 관찰된 데이터에서 계산된 값도 포함된다.
- p-value는 귀무가설이 참이라고 가정할 때(즉, 아무 효과가 없다고 가정) 관찰된 상승도 만큼 극단적인 결과를 얻을 확률을 나타낸다. 

☑️ 알파를 p-value와 혼동할 때 발생하는 실수
- 특히, 결과의 유효성(validity)을 참조할 때 p-value를 잘못 사용할 때 발생한다. 예를 들어, p-value가 2%인 경우, 분석가가 "98%의 신뢰도로 이겼습니다."라고 잘못 얘기할 수 있는 것이다.
- 이러한 오류를 피하기 위해 알파값과 p-value의 근본적인 차이점을 꼭 이해해야한다.
    - p-value는 샘플 데이터에서 계산된 결과값이고,
    - α는 테스트 설계 시 미리 정한 기준값이다.

```
✅ 테스트를 설계할 때, α 값을 명확히 정하자. → “우리는 유의수준 5%로 실험을 설계했습니다.”

✅ 결과 해석 시, p-value는 현재 샘플에서 얼마나 극단적인 결과가 나왔는지를 말하는 지표임을 명확히 하자.
→ “p-value는 2%였고, 이는 귀무가설 하에서 이런 결과가 나올 확률이 2%밖에 안 된다는 것을 의미합니다.”

✅ p-value를 가지고 신뢰수준(confidence level)을 계산하지 말자.
→ “p=0.02니까, 98% 확신이 있다는 건가요?” → ❌ 잘못된 해석!

✅ α와 p-value는 비교 대상이지, 변환 대상이 아니다.
→ 올바른 해석: “p-value가 0.02이므로, 사전에 설정한 유의수준(α=0.05)보다 작으므로 귀무가설을 기각합니다.”
```

## 3. p-value 값을 잘못 이해하는 것
위에서도 말했지만, p-값은 데이터에 기반하여 계산되며 효과가 없다는 가정(귀무가설) 하에 현재 관측된 결과(혹은 더 극단적인 결과)가 나올 확률을 의미한다.

- 여기서 발생할 수 있는 실수는 p-값을 결과의 확률이 아닌, 오류의 확률로 해석하는 것이다. <br>
  예를 들어, “p-값이 2%이므로, 이 결과가 틀릴 확률은 2%이다”라는 식의 표현이 이에 해당한다. 
- 그러나 p-값은 표본에 기반해 계산되므로, 검정 절차의 타당성에 대한 정보를 제공하지 못한다. 
- 따라서 p-값은 **“귀무가설이 참일 때, 현재의 결과가 얼마나 일어나기 힘든지를 나타내는 척도”**로 이해하면 된다. 
```
✅ p-값은 귀무가설에 대한 증거의 강도를 판단하는 데 사용할 수 있다. 
  매우 낮은 p-값은 귀무가설에 반하는 강한 증거를 제공하며, 관측된 효과가 우연히 발생했을 가능성이 낮다는 것을 시사하는 것이다.
```

## 4. 신뢰구간을 잘못 이해하는 것
가설 검정이 두 그룹 간 차이가 통계적으로 유의한지 여부를 판단하는 데 목적이 있다면, 신뢰 구간은 그 차이의 값을 추정하는 데 초점을 둔다.
신뢰 구간의 개념은 하나의 표본에서 얻은 값이 모집단(population)의 차이와 완전히 일치할 가능성이 낮다는 점을 전제로 한다.

- 예를 들어, 표본에서 4%의 리프트(Lift)가 관찰되었다고 해도, 전체 사용자 집단이 정확히 4%의 리스트를 보일 가능성은 낮다. 대신, 진짜 차이값은 이 4% 근처의 일정 구간에 있을 가능성이 크다.
- 따라서 점 추정보다 구간 추정(interval estimation)을 사용하는데, 진짜 차이값은 알 수 없기 때문에, 모든 구간이 실제 값을 포함한다고 보장할 수는 없다.
- 여기서 통제할 수 있는 것이 바로 "오차율(error rate)"로, 이는 진짜 값을 포함하지 못하는 구간의 비율을 나타낸다.
    - 이 오차율은 일반적으로 **알파(α)**로 표시되며, 1 - α는 신뢰 수준(confidence level)을 나타낸다.
    - 즉, 신뢰 수준은 **"진짜 값을 포함할 것으로 기대되는 구간의 비율"**이 되는 것이다.


☑️  신뢰 수준을 '값' 자체에 적용하는 실수를 유의할 것
- 잘못된 해석으로 "진짜 리프트가 2%와 4% 사이에 있을 확률이 95%이다."라고 말하는 경우가 이에 해당한다. 
- 이미 신뢰구간이 계산된 시점에서는, 진짜 리프트 값은 그 구간 안에 있거나/없거나 둘 중 하나이다. 따라서 다음과 같이 말하는 것이 적절하다.
```
✅ “리프트는 2%에서 4% 사이로 추정되며, 이 구간이 유효할 것이라고 95%의 신뢰가 있습니다.”
```

## 5. 외적 타당성(external validity)을 무시하는 것
표본에서 모집단으로 결과를 일반화하려는 경우(외적 타당성이라 부름), 실험이 실시된 시점과 사용자의 특성을 반드시 고려해야한다.

- 실험 결과를 보고할 때, 너무 단정적인 어조로 전체 모집단에 대해 과도하게 일반화하는 경우가 있다.
- 이보다는 결과에 한계를 나타내는 적절한 조건이나 전제를 덧붙여 신중하게 설명하는 것이 좋다.
- 즉, 결과를 설명할 때는 표본의 한계와 실험의 맥락적 요소를 꼭 함께 언급하자.
```
✅ 실험 시점: 실험이 일반적인 시기에 진행되었는지, 아니면 연말, 명절 등 특수한 시점의 영향을 받았을 가능성이 있는지 고려하자.
✅ 사용자 특성: 모든 사용자에게 동일한 효과가 나타났는가? 아니면 특정 사용자 그룹에서만 효과가 더 뚜렷했는가?
✅ 표본 대표성: 현재 표본이 전체 사용자 집단을 잘 대표하고 있는가?
```

## 실험 결과 보고서 작성 예시
핵심 결과를 명확하고 정확하게 전달하는 보고서의 구성!
1. 핵심 요약(Bottom Line)
- 주된 KPI에 미친 영향(예: 리프트, 신뢰 구간, p-값)
- 기타 중요한 결과 (다른 KPI의 유의미한 변화, 중요한 사용자 세그먼트, 기타 주목할 만한 관찰 결과 등)
- 결과에 따른 의사결정/액션플랜 제안

2. 주요 KPI 결과
- 신뢰 구간 시각화 포함하고, 구간의 경계 및 0 포함 여부 명확히 표시
- 두 개 이상의 버전이 있다면, 각 버전에 대한 비교 구간 제시
- 시각적으로 강조(예: 유의미한 결과는 초록색)
- p-값 등 부가 정보는 사이드바에 정리
- 순차적 테스트라면, 시간에 따른 결과 변화 그래프도 포함 가능

3. 보조 KPI
- 테이블 또는 시각 자료를 활용하여 결과 요약
- 리프트, 신뢰 구간, p-값 포함

4. 테스트 정보
- 테스트 이름, 가설, 각 버전, 그룹별 사용자 수 등 기본 정보
- 테스트에서 변경된 사항의 스크린샷 포함하면 좋음

5. 인사이트 및 향후 방향
- 실험 중 발견된 패턴, 의외의 결과, 후속 탐색이 필요한 영역 등 공유
- 향후 실험 설계를 위한 아이디어 

---

